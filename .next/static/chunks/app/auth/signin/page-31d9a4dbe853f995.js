(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{1479:function(e,r,t){Promise.resolve().then(t.bind(t,2955))},2955:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var n=t(7437),a=t(998),l=t(6463),s=t(2265),o=t(1942),c=t(7138);function i(){let[e,r]=(0,s.useState)(!1),[t,l]=(0,s.useState)(null),[i,d]=(0,s.useState)(""),[u,x]=(0,s.useState)(""),[m,b]=(0,s.useState)(null),f=async e=>{if(e.preventDefault(),!i||!u){b("Por favor ingresa tu correo y contrase\xf1a");return}r(!0),b(null);try{let e=await (0,a.signIn)("credentials",{redirect:!1,email:i,password:u});(null==e?void 0:e.error)&&b("Credenciales inv\xe1lidas. Por favor, int\xe9ntalo de nuevo.")}catch(e){b("Ocurri\xf3 un error al iniciar sesi\xf3n. Por favor, int\xe9ntalo de nuevo.")}finally{r(!1)}},h=async e=>{l(e);try{await (0,a.signIn)(e,{callbackUrl:"/"})}catch(r){console.error("Error al iniciar sesi\xf3n con "+e,r),b("Error al iniciar sesi\xf3n con ".concat(e)),l(null)}},p=[{provider:"spotify",icon:(0,n.jsx)(o.l4C,{className:"text-xl"}),text:"Continuar con Spotify",color:"bg-[#1DB954] hover:bg-[#1ed760] text-black"},{provider:"google",icon:(0,n.jsx)(o.ldW,{className:"text-xl"}),text:"Continuar con Google",color:"bg-white hover:bg-gray-100 text-black"},{provider:"facebook",icon:(0,n.jsx)(o.Am9,{className:"text-xl text-[#1877F2]"}),text:"Continuar con Facebook",color:"bg-[#1877F2] hover:bg-[#0d6efd] text-white"},{provider:"apple",icon:(0,n.jsx)(o.oPZ,{className:"text-xl"}),text:"Continuar con Apple",color:"bg-black hover:bg-neutral-800 text-white"}];return(0,n.jsx)("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-black/50 backdrop-blur-md rounded-lg p-8 border border-neutral-800",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Inicia sesi\xf3n en Spotify"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"space-y-4",children:p.map(r=>{let{provider:a,icon:l,text:s,color:o}=r;return(0,n.jsx)("button",{onClick:()=>h(a),disabled:!!t,className:"w-full font-bold py-3 px-6 rounded-full flex items-center justify-center gap-3 transition-all duration-200 ".concat(t?"opacity-70 cursor-not-allowed":""," ").concat(o," ").concat(e?"opacity-70 cursor-not-allowed":""),children:t===a?(0,n.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):(0,n.jsxs)(n.Fragment,{children:[l,s]})},a)})}),(0,n.jsxs)("div",{className:"relative flex items-center my-6",children:[(0,n.jsx)("div",{className:"flex-1 border-t border-neutral-700"}),(0,n.jsx)("span",{className:"px-4 text-neutral-400 text-sm",children:"o"}),(0,n.jsx)("div",{className:"flex-1 border-t border-neutral-700"})]}),(0,n.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[m&&(0,n.jsx)("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4 text-sm",children:m}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-300 mb-1",children:"Correo electr\xf3nico o nombre de usuario"}),(0,n.jsx)("input",{type:"email",id:"email",value:i,onChange:e=>d(e.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Correo electr\xf3nico o nombre de usuario",disabled:e})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-300 mb-1",children:"Contrase\xf1a"}),(0,n.jsx)("input",{type:"password",id:"password",value:u,onChange:e=>x(e.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Contrase\xf1a",disabled:e})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",id:"remember",className:"h-4 w-4 text-green-500 rounded border-neutral-600 bg-neutral-800 focus:ring-green-500"}),(0,n.jsx)("label",{htmlFor:"remember",className:"ml-2 text-sm text-neutral-300",children:"Recordarme"})]}),(0,n.jsx)(c.default,{href:"/auth/forgot-password",className:"text-sm text-green-500 hover:underline",children:"\xbfOlvidaste tu contrase\xf1a?"})]}),(0,n.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-green-500 hover:bg-green-600 text-black font-bold py-3 px-4 rounded-full transition-colors duration-200 flex items-center justify-center gap-2",children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}),"Iniciando sesi\xf3n..."]}):"Iniciar sesi\xf3n"})]}),(0,n.jsx)("div",{className:"text-center mt-6",children:(0,n.jsxs)("p",{className:"text-neutral-400",children:["\xbfNo tienes una cuenta?"," ",(0,n.jsx)(c.default,{href:"/auth/signup",className:"text-white hover:text-green-500 hover:underline",children:"Reg\xedstrate en Spotify"})]})})]})]})})}function d(){let e=(0,l.useRouter)(),r=(0,l.useSearchParams)()||new URLSearchParams,t=(null==r?void 0:r.get("callbackUrl"))||"/",{data:o}=(0,a.useSession)();return(0,s.useEffect)(()=>{o&&e.push(t)},[o,e,t]),(0,n.jsx)(i,{})}}},function(e){e.O(0,[699,25,138,971,23,744],function(){return e(e.s=1479)}),_N_E=e.O()}]);
(()=>{var e={};e.id=271,e.ids=[271],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},31833:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(80197),r(11506),r(35866);var a=r(23191),s=r(88716),n=r(37922),l=r.n(n),o=r(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let c=["",{children:["auth",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80197)),"/Users/mikeblackhat/Spotify-clone v0.0.57/frontend/app/auth/signup/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"/Users/mikeblackhat/Spotify-clone v0.0.57/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/mikeblackhat/Spotify-clone v0.0.57/frontend/app/auth/signup/page.tsx"],u="/auth/signup/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/auth/signup/page",pathname:"/auth/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98397:(e,t,r)=>{Promise.resolve().then(r.bind(r,81816))},81816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(10326),s=r(77109),n=r(35047),l=r(17577),o=r(44046),i=r(90434);function c(){let e=(0,n.useRouter)(),[t,r]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),[u,p]=(0,l.useState)(""),[x,m]=(0,l.useState)(""),[h,g]=(0,l.useState)(""),[f,b]=(0,l.useState)(!1),[v,y]=(0,l.useState)(null),[j,N]=(0,l.useState)(!1),w=async t=>{if(t.preventDefault(),!u||!x||!h){y("Por favor completa todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){y("Por favor ingresa un correo electr\xf3nico v\xe1lido");return}if(!/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(x)){y("La contrase\xf1a debe tener al menos 8 caracteres, incluyendo una letra y un n\xfamero");return}if(h.trim().length<3){y("El nombre debe tener al menos 3 caracteres");return}let a=u.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"");r(!0),y(null);try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.trim(),password:x,username:a,name:h.trim()})}),r=await t.json();if(!t.ok)throw Error(r.message||"Error al registrar el usuario");let n=await (0,s.signIn)("credentials",{redirect:!1,email:u.trim(),password:x});if(n?.error){e.push("/auth/signin?registered=true");return}n?.url?e.push(n.url):e.push("/")}catch(e){console.error("Error en el registro:",e),e.message.includes("E11000")?e.message.includes("email")?y("Ya existe una cuenta con este correo electr\xf3nico"):e.message.includes("username")?y("El nombre de usuario ya est\xe1 en uso"):y("El usuario ya existe"):y(e.message||"Ocurri\xf3 un error al registrarte. Por favor, int\xe9ntalo de nuevo.")}finally{r(!1)}},k=async e=>{d(e);try{await (0,s.signIn)(e,{callbackUrl:"/"})}catch(t){console.error("Error al iniciar sesi\xf3n con "+e,t),y(`Error al iniciar sesi\xf3n con ${e}`),d(null)}},P=[{provider:"spotify",icon:a.jsx(o.l4C,{className:"text-xl"}),text:"Reg\xedstrate con Spotify",color:"bg-[#1DB954] hover:bg-[#1ed760] text-black"},{provider:"google",icon:a.jsx(o.ldW,{className:"text-xl"}),text:"Continuar con Google",color:"bg-white hover:bg-gray-100 text-black"},{provider:"facebook",icon:a.jsx(o.Am9,{className:"text-xl text-[#1877F2]"}),text:"Continuar con Facebook",color:"bg-[#1877F2] hover:bg-[#0d6efd] text-white"},{provider:"apple",icon:a.jsx(o.oPZ,{className:"text-xl"}),text:"Continuar con Apple",color:"bg-black hover:bg-neutral-800 text-white"}],S=async e=>{e.preventDefault(),N(!0);try{await w(e)}catch(e){console.error("Error en el formulario:",e),N(!1)}};return(0,a.jsxs)("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[(0,a.jsxs)("div",{className:`max-w-md w-full bg-black/50 backdrop-blur-md rounded-lg p-8 border border-neutral-800 transition-opacity duration-300 ${j?"opacity-75":"opacity-100"}`,children:[a.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:j?"Procesando...":"Reg\xedstrate en Spotify"}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"space-y-4",children:P.map(({provider:e,icon:r,text:s,color:n})=>a.jsx("button",{onClick:()=>k(e),disabled:!!c,className:`w-full font-bold py-3 px-6 rounded-full flex items-center justify-center gap-3 transition-all duration-200 ${c?"opacity-70 cursor-not-allowed":""} ${n} ${t?"opacity-70 cursor-not-allowed":""}`,children:c===e?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):(0,a.jsxs)(a.Fragment,{children:[r,s]})},e))}),(0,a.jsxs)("div",{className:"relative flex items-center my-6",children:[a.jsx("div",{className:"flex-1 border-t border-neutral-700"}),a.jsx("span",{className:"px-4 text-neutral-400 text-sm",children:"o"}),a.jsx("div",{className:"flex-1 border-t border-neutral-700"})]}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[v&&a.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4 text-sm",children:v}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-neutral-300 mb-1",children:"\xbfC\xf3mo quieres que te llamemos?"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",id:"displayName",value:h,onChange:e=>g(e.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded px-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Introduce un nombre de perfil",disabled:t})}),a.jsx("p",{className:"mt-1 text-xs text-neutral-400",children:"Esto aparece en tu perfil."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-300 mb-1",children:"Correo electr\xf3nico"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(o.SRX,{className:"text-gray-400"})}),a.jsx("input",{type:"email",id:"email",value:u,onChange:e=>p(e.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded pl-10 pr-4 py-3 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Introduce tu correo electr\xf3nico",disabled:t})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-300 mb-1",children:"Crea una contrase\xf1a"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(o.kUi,{className:"text-gray-400"})}),a.jsx("input",{type:f?"text":"password",id:"password",value:x,onChange:e=>m(e.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded pl-10 pr-10 py-3 text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Crea una contrase\xf1a",disabled:t}),a.jsx("button",{type:"button",onClick:()=>b(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:t,children:f?a.jsx(o.tgn,{}):a.jsx(o.dSq,{})})]}),a.jsx("p",{className:"mt-1 text-xs text-neutral-400",children:"Usa 8 caracteres como m\xednimo con una letra y un n\xfamero."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"terms",className:"h-4 w-4 text-green-500 rounded border-neutral-600 bg-neutral-800 focus:ring-green-500",required:!0}),(0,a.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-neutral-300",children:["Acepto los ",a.jsx("a",{href:"#",className:"text-green-500 hover:underline",children:"T\xe9rminos y condiciones"})," de Spotify"]})]}),a.jsx("button",{type:"submit",disabled:t,className:"w-full bg-green-500 hover:bg-green-600 text-black font-bold py-3 px-4 rounded-full transition-colors duration-200 flex items-center justify-center gap-2",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}),"Creando cuenta..."]}):"Registrarte"})]}),a.jsx("div",{className:"text-center mt-6",children:(0,a.jsxs)("p",{className:"text-neutral-400",children:["\xbfYa tienes una cuenta?"," ",a.jsx(i.default,{href:"/auth/signin",className:"text-white hover:text-green-500 hover:underline",children:"Inicia sesi\xf3n en Spotify"})]})})]})]}),a.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400 max-w-md",children:(0,a.jsxs)("p",{children:["Este sitio est\xe1 protegido por reCAPTCHA y se aplican la"," ",a.jsx("a",{href:"#",className:"underline hover:text-white",children:"Pol\xedtica de privacidad"})," y los"," ",a.jsx("a",{href:"#",className:"underline hover:text-white",children:"T\xe9rminos de servicio"})," de Google."]})})]})}function d(){(0,n.useRouter)();let e=(0,n.useSearchParams)()||new URLSearchParams;e?.get("callbackUrl");let{data:t}=(0,s.useSession)();return a.jsx(c,{})}},80197:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var a=r(68570);let s=(0,a.createProxy)(String.raw`/Users/mikeblackhat/Spotify-clone v0.0.57/frontend/app/auth/signup/page.tsx`),{__esModule:n,$$typeof:l}=s;s.default;let o=(0,a.createProxy)(String.raw`/Users/mikeblackhat/Spotify-clone v0.0.57/frontend/app/auth/signup/page.tsx#default`)},57481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(66621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,226,621,225],()=>r(31833));module.exports=a})();